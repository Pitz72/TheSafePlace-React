react-dom.development.js:29895 Download the React DevTools for a better development experience: https://reactjs.org/link/react-devtools
narrativeStore.ts:194 📚 NARRATIVE STORE DEBUG - Loading lore events...
narrativeIntegration.ts:71 🔧 NARRATIVE DEBUG - setupWorldListeners: worldStore già gestisce i cambi bioma
narrativeIntegration.ts:97 📚 NARRATIVE DEBUG - Loading narrative data...
narrativeIntegration.ts:100 📚 NARRATIVE DEBUG - Before initialization: {availableEvents: 0, currentStage: 1, emotionalState: {…}}
narrativeStore.ts:194 📚 NARRATIVE STORE DEBUG - Loading lore events...
narrativeStore.ts:194 📚 NARRATIVE STORE DEBUG - Loading lore events...
narrativeIntegration.ts:71 🔧 NARRATIVE DEBUG - setupWorldListeners: worldStore già gestisce i cambi bioma
narrativeIntegration.ts:97 📚 NARRATIVE DEBUG - Loading narrative data...
narrativeIntegration.ts:100 📚 NARRATIVE DEBUG - Before initialization: {availableEvents: 0, currentStage: 1, emotionalState: {…}}
narrativeStore.ts:194 📚 NARRATIVE STORE DEBUG - Loading lore events...
narrativeStore.ts:197 📚 NARRATIVE STORE DEBUG - Fetch response: 200 true
narrativeStore.ts:200 📚 NARRATIVE STORE DEBUG - Raw data: {LORE_EVENTS: Array(4)}
narrativeStore.ts:203 📚 NARRATIVE STORE DEBUG - Parsed events: {count: 4, events: Array(4)}
narrativeStore.ts:209 📚 NARRATIVE STORE DEBUG - Events loaded successfully
narrativeStore.ts:197 📚 NARRATIVE STORE DEBUG - Fetch response: 200 true
narrativeStore.ts:200 📚 NARRATIVE STORE DEBUG - Raw data: {LORE_EVENTS: Array(4)}
narrativeStore.ts:203 📚 NARRATIVE STORE DEBUG - Parsed events: {count: 4, events: Array(4)}
narrativeStore.ts:209 📚 NARRATIVE STORE DEBUG - Events loaded successfully
narrativeStore.ts:197 📚 NARRATIVE STORE DEBUG - Fetch response: 200 true
narrativeStore.ts:200 📚 NARRATIVE STORE DEBUG - Raw data: {LORE_EVENTS: Array(4)}
narrativeStore.ts:203 📚 NARRATIVE STORE DEBUG - Parsed events: {count: 4, events: Array(4)}
narrativeStore.ts:209 📚 NARRATIVE STORE DEBUG - Events loaded successfully
narrativeStore.ts:197 📚 NARRATIVE STORE DEBUG - Fetch response: 200 true
narrativeStore.ts:200 📚 NARRATIVE STORE DEBUG - Raw data: {LORE_EVENTS: Array(4)}
narrativeStore.ts:203 📚 NARRATIVE STORE DEBUG - Parsed events: {count: 4, events: Array(4)}
narrativeStore.ts:209 📚 NARRATIVE STORE DEBUG - Events loaded successfully
narrativeIntegration.ts:112 📚 NARRATIVE DEBUG - After initialization: {availableEvents: 4, currentStage: 1, emotionalState: {…}, eventDetails: Array(4)}
narrativeIntegration.ts:112 📚 NARRATIVE DEBUG - After initialization: {availableEvents: 4, currentStage: 1, emotionalState: {…}, eventDetails: Array(4)}
narrativeStore.ts:194 📚 NARRATIVE STORE DEBUG - Loading lore events...
narrativeIntegration.ts:71 🔧 NARRATIVE DEBUG - setupWorldListeners: worldStore già gestisce i cambi bioma
narrativeIntegration.ts:97 📚 NARRATIVE DEBUG - Loading narrative data...
narrativeIntegration.ts:100 📚 NARRATIVE DEBUG - Before initialization: {availableEvents: 0, currentStage: 1, emotionalState: {…}}
narrativeStore.ts:194 📚 NARRATIVE STORE DEBUG - Loading lore events...
narrativeStore.ts:197 📚 NARRATIVE STORE DEBUG - Fetch response: 200 true
narrativeStore.ts:197 📚 NARRATIVE STORE DEBUG - Fetch response: 200 true
narrativeStore.ts:200 📚 NARRATIVE STORE DEBUG - Raw data: {LORE_EVENTS: Array(4)}
narrativeStore.ts:203 📚 NARRATIVE STORE DEBUG - Parsed events: {count: 4, events: Array(4)}
narrativeStore.ts:209 📚 NARRATIVE STORE DEBUG - Events loaded successfully
narrativeStore.ts:200 📚 NARRATIVE STORE DEBUG - Raw data: {LORE_EVENTS: Array(4)}
narrativeStore.ts:203 📚 NARRATIVE STORE DEBUG - Parsed events: {count: 4, events: Array(4)}
narrativeStore.ts:209 📚 NARRATIVE STORE DEBUG - Events loaded successfully
narrativeStore.ts:194 📚 NARRATIVE STORE DEBUG - Loading lore events...
narrativeIntegration.ts:71 🔧 NARRATIVE DEBUG - setupWorldListeners: worldStore già gestisce i cambi bioma
narrativeIntegration.ts:97 📚 NARRATIVE DEBUG - Loading narrative data...
narrativeIntegration.ts:100 📚 NARRATIVE DEBUG - Before initialization: {availableEvents: 0, currentStage: 1, emotionalState: {…}}
narrativeStore.ts:194 📚 NARRATIVE STORE DEBUG - Loading lore events...
narrativeStore.ts:197 📚 NARRATIVE STORE DEBUG - Fetch response: 200 true
narrativeStore.ts:200 📚 NARRATIVE STORE DEBUG - Raw data: {LORE_EVENTS: Array(4)}
narrativeStore.ts:203 📚 NARRATIVE STORE DEBUG - Parsed events: {count: 4, events: Array(4)}
narrativeStore.ts:209 📚 NARRATIVE STORE DEBUG - Events loaded successfully
narrativeStore.ts:197 📚 NARRATIVE STORE DEBUG - Fetch response: 200 true
narrativeStore.ts:200 📚 NARRATIVE STORE DEBUG - Raw data: {LORE_EVENTS: Array(4)}
narrativeStore.ts:203 📚 NARRATIVE STORE DEBUG - Parsed events: {count: 4, events: Array(4)}
narrativeStore.ts:209 📚 NARRATIVE STORE DEBUG - Events loaded successfully
narrativeIntegration.ts:112 📚 NARRATIVE DEBUG - After initialization: {availableEvents: 4, currentStage: 1, emotionalState: {…}, eventDetails: Array(4)}
narrativeIntegration.ts:112 📚 NARRATIVE DEBUG - After initialization: {availableEvents: 4, currentStage: 1, emotionalState: {…}, eventDetails: Array(4)}
worldStore.ts:86 🌍 WORLDSTORE DEBUG - Biome changed: {oldBiome: 'SETTLEMENT', newBiome: 'PLAINS', position: {…}, char: '.'}
worldStore.ts:96 🌍 WORLDSTORE DEBUG - Calling narrativeIntegration.checkForNarrativeEvents...
narrativeIntegration.ts:224 🎭 NARRATIVE DEBUG - checkForNarrativeEvents called: {eventType: 'biome_change', context: {…}, currentStage: 1, availableEvents: 4, currentBiome: 'PLAINS', …}
narrativeIntegration.ts:236 🔍 Checking event lena_memory_forest: {questStageReq: Array(3), currentStage: 1, locationReq: Array(1), currentBiome: 'PLAINS', emotionalPrereq: {…}}
narrativeIntegration.ts:254 🔍 Checking emotional prerequisites for lena_memory_forest: {required: {…}, current: {…}}
narrativeIntegration.ts:289 ❌ Event lena_memory_forest rejected: location requirement not met (needs forest, current: PLAINS)
narrativeIntegration.ts:236 🔍 Checking event elian_legacy_city: {questStageReq: Array(3), currentStage: 1, locationReq: Array(1), currentBiome: 'PLAINS', emotionalPrereq: {…}}
narrativeIntegration.ts:246 ❌ Event elian_legacy_city rejected: stage requirement not met
narrativeIntegration.ts:236 🔍 Checking event family_discovery_plains: {questStageReq: Array(3), currentStage: 1, locationReq: Array(1), currentBiome: 'PLAINS', emotionalPrereq: {…}}
narrativeIntegration.ts:246 ❌ Event family_discovery_plains rejected: stage requirement not met
narrativeIntegration.ts:236 🔍 Checking event thematic_river_reflection: {questStageReq: Array(5), currentStage: 1, locationReq: Array(1), currentBiome: 'PLAINS', emotionalPrereq: {…}}
narrativeIntegration.ts:254 🔍 Checking emotional prerequisites for thematic_river_reflection: {required: {…}, current: {…}}
narrativeIntegration.ts:261 ✅ Event thematic_river_reflection - DEBUG MODE: accepting river event regardless of emotional state
narrativeIntegration.ts:289 ❌ Event thematic_river_reflection rejected: location requirement not met (needs river, current: PLAINS)
narrativeIntegration.ts:310 🎯 NARRATIVE DEBUG - Eligible events found: {count: 0, events: Array(0)}
narrativeIntegration.ts:325 ⚠️ NARRATIVE DEBUG - No eligible events found for trigger
worldStore.ts:101 🌍 WORLDSTORE DEBUG - narrativeIntegration.checkForNarrativeEvents called
playerMovementService.ts:48 🎲 BIOME EVENTS DEBUG - Movement triggered for biome: PLAINS
playerMovementService.ts:49 🎲 BIOME EVENTS DEBUG - Weather effects: {movementModifier: 1, survivalModifier: 1, skillCheckModifier: 0, eventProbabilityModifier: 1}
playerMovementService.ts:52 🎲 BIOME EVENTS DEBUG - Calling eventStore.checkForRandomEvent()
eventStore.ts:207  Uncaught TypeError: Cannot read properties of undefined (reading 'eventProbabilityModifier')
    at Object.checkForRandomEvent (eventStore.ts:207:66)
    at PlayerMovementService.handleMovementEffects (playerMovementService.ts:53:16)
    at updatePlayerPosition (worldStore.ts:117:27)
    at usePlayerMovement.ts:116:5
    at usePlayerMovement.ts:156:9
checkForRandomEvent @ eventStore.ts:207
handleMovementEffects @ playerMovementService.ts:53
updatePlayerPosition @ worldStore.ts:117
(anonymous) @ usePlayerMovement.ts:116
(anonymous) @ usePlayerMovement.ts:156
[NEW] Explain Console errors by using Copilot in Edge: click
         
         to explain an error. 
        Learn more
        Don't show again
playerMovementService.ts:48 🎲 BIOME EVENTS DEBUG - Movement triggered for biome: PLAINS
playerMovementService.ts:49 🎲 BIOME EVENTS DEBUG - Weather effects: {movementModifier: 1, survivalModifier: 1, skillCheckModifier: 0, eventProbabilityModifier: 1}
playerMovementService.ts:52 🎲 BIOME EVENTS DEBUG - Calling eventStore.checkForRandomEvent()
eventStore.ts:207  Uncaught TypeError: Cannot read properties of undefined (reading 'eventProbabilityModifier')
    at Object.checkForRandomEvent (eventStore.ts:207:66)
    at PlayerMovementService.handleMovementEffects (playerMovementService.ts:53:16)
    at updatePlayerPosition (worldStore.ts:117:27)
    at usePlayerMovement.ts:116:5
    at usePlayerMovement.ts:156:9
checkForRandomEvent @ eventStore.ts:207
handleMovementEffects @ playerMovementService.ts:53
updatePlayerPosition @ worldStore.ts:117
(anonymous) @ usePlayerMovement.ts:116
(anonymous) @ usePlayerMovement.ts:156
playerMovementService.ts:48 🎲 BIOME EVENTS DEBUG - Movement triggered for biome: PLAINS
playerMovementService.ts:49 🎲 BIOME EVENTS DEBUG - Weather effects: {movementModifier: 1, survivalModifier: 1, skillCheckModifier: 0, eventProbabilityModifier: 1}
playerMovementService.ts:52 🎲 BIOME EVENTS DEBUG - Calling eventStore.checkForRandomEvent()
eventStore.ts:207  Uncaught TypeError: Cannot read properties of undefined (reading 'eventProbabilityModifier')
    at Object.checkForRandomEvent (eventStore.ts:207:66)
    at PlayerMovementService.handleMovementEffects (playerMovementService.ts:53:16)
    at updatePlayerPosition (worldStore.ts:117:27)
    at usePlayerMovement.ts:116:5
    at usePlayerMovement.ts:156:9
checkForRandomEvent @ eventStore.ts:207
handleMovementEffects @ playerMovementService.ts:53
updatePlayerPosition @ worldStore.ts:117
(anonymous) @ usePlayerMovement.ts:116
(anonymous) @ usePlayerMovement.ts:156
playerMovementService.ts:48 🎲 BIOME EVENTS DEBUG - Movement triggered for biome: PLAINS
playerMovementService.ts:49 🎲 BIOME EVENTS DEBUG - Weather effects: {movementModifier: 1, survivalModifier: 1, skillCheckModifier: 0, eventProbabilityModifier: 1}
playerMovementService.ts:52 🎲 BIOME EVENTS DEBUG - Calling eventStore.checkForRandomEvent()
eventStore.ts:207  Uncaught TypeError: Cannot read properties of undefined (reading 'eventProbabilityModifier')
    at Object.checkForRandomEvent (eventStore.ts:207:66)
    at PlayerMovementService.handleMovementEffects (playerMovementService.ts:53:16)
    at updatePlayerPosition (worldStore.ts:117:27)
    at usePlayerMovement.ts:116:5
    at usePlayerMovement.ts:156:9
checkForRandomEvent @ eventStore.ts:207
handleMovementEffects @ playerMovementService.ts:53
updatePlayerPosition @ worldStore.ts:117
(anonymous) @ usePlayerMovement.ts:116
(anonymous) @ usePlayerMovement.ts:156
playerMovementService.ts:48 🎲 BIOME EVENTS DEBUG - Movement triggered for biome: PLAINS
playerMovementService.ts:49 🎲 BIOME EVENTS DEBUG - Weather effects: {movementModifier: 1, survivalModifier: 1, skillCheckModifier: 0, eventProbabilityModifier: 1}
playerMovementService.ts:52 🎲 BIOME EVENTS DEBUG - Calling eventStore.checkForRandomEvent()
eventStore.ts:207  Uncaught TypeError: Cannot read properties of undefined (reading 'eventProbabilityModifier')
    at Object.checkForRandomEvent (eventStore.ts:207:66)
    at PlayerMovementService.handleMovementEffects (playerMovementService.ts:53:16)
    at updatePlayerPosition (worldStore.ts:117:27)
    at usePlayerMovement.ts:116:5
    at usePlayerMovement.ts:156:9
checkForRandomEvent @ eventStore.ts:207
handleMovementEffects @ playerMovementService.ts:53
updatePlayerPosition @ worldStore.ts:117
(anonymous) @ usePlayerMovement.ts:116
(anonymous) @ usePlayerMovement.ts:156
playerMovementService.ts:48 🎲 BIOME EVENTS DEBUG - Movement triggered for biome: PLAINS
playerMovementService.ts:49 🎲 BIOME EVENTS DEBUG - Weather effects: {movementModifier: 1, survivalModifier: 1, skillCheckModifier: 0, eventProbabilityModifier: 1}
playerMovementService.ts:52 🎲 BIOME EVENTS DEBUG - Calling eventStore.checkForRandomEvent()
eventStore.ts:207  Uncaught TypeError: Cannot read properties of undefined (reading 'eventProbabilityModifier')
    at Object.checkForRandomEvent (eventStore.ts:207:66)
    at PlayerMovementService.handleMovementEffects (playerMovementService.ts:53:16)
    at updatePlayerPosition (worldStore.ts:117:27)
    at usePlayerMovement.ts:116:5
    at usePlayerMovement.ts:148:9
checkForRandomEvent @ eventStore.ts:207
handleMovementEffects @ playerMovementService.ts:53
updatePlayerPosition @ worldStore.ts:117
(anonymous) @ usePlayerMovement.ts:116
(anonymous) @ usePlayerMovement.ts:148
playerMovementService.ts:48 🎲 BIOME EVENTS DEBUG - Movement triggered for biome: PLAINS
playerMovementService.ts:49 🎲 BIOME EVENTS DEBUG - Weather effects: {movementModifier: 1, survivalModifier: 1, skillCheckModifier: 0, eventProbabilityModifier: 1}
playerMovementService.ts:52 🎲 BIOME EVENTS DEBUG - Calling eventStore.checkForRandomEvent()
eventStore.ts:207  Uncaught TypeError: Cannot read properties of undefined (reading 'eventProbabilityModifier')
    at Object.checkForRandomEvent (eventStore.ts:207:66)
    at PlayerMovementService.handleMovementEffects (playerMovementService.ts:53:16)
    at updatePlayerPosition (worldStore.ts:117:27)
    at usePlayerMovement.ts:116:5
    at usePlayerMovement.ts:148:9
checkForRandomEvent @ eventStore.ts:207
handleMovementEffects @ playerMovementService.ts:53
updatePlayerPosition @ worldStore.ts:117
(anonymous) @ usePlayerMovement.ts:116
(anonymous) @ usePlayerMovement.ts:148
playerMovementService.ts:48 🎲 BIOME EVENTS DEBUG - Movement triggered for biome: PLAINS
playerMovementService.ts:49 🎲 BIOME EVENTS DEBUG - Weather effects: {movementModifier: 1, survivalModifier: 1, skillCheckModifier: 0, eventProbabilityModifier: 1}
playerMovementService.ts:52 🎲 BIOME EVENTS DEBUG - Calling eventStore.checkForRandomEvent()
eventStore.ts:207  Uncaught TypeError: Cannot read properties of undefined (reading 'eventProbabilityModifier')
    at Object.checkForRandomEvent (eventStore.ts:207:66)
    at PlayerMovementService.handleMovementEffects (playerMovementService.ts:53:16)
    at updatePlayerPosition (worldStore.ts:117:27)
    at usePlayerMovement.ts:116:5
    at usePlayerMovement.ts:148:9
checkForRandomEvent @ eventStore.ts:207
handleMovementEffects @ playerMovementService.ts:53
updatePlayerPosition @ worldStore.ts:117
(anonymous) @ usePlayerMovement.ts:116
(anonymous) @ usePlayerMovement.ts:148
playerMovementService.ts:48 🎲 BIOME EVENTS DEBUG - Movement triggered for biome: PLAINS
playerMovementService.ts:49 🎲 BIOME EVENTS DEBUG - Weather effects: {movementModifier: 1, survivalModifier: 1, skillCheckModifier: 0, eventProbabilityModifier: 1}
playerMovementService.ts:52 🎲 BIOME EVENTS DEBUG - Calling eventStore.checkForRandomEvent()
eventStore.ts:207  Uncaught TypeError: Cannot read properties of undefined (reading 'eventProbabilityModifier')
    at Object.checkForRandomEvent (eventStore.ts:207:66)
    at PlayerMovementService.handleMovementEffects (playerMovementService.ts:53:16)
    at updatePlayerPosition (worldStore.ts:117:27)
    at usePlayerMovement.ts:116:5
    at usePlayerMovement.ts:148:9
checkForRandomEvent @ eventStore.ts:207
handleMovementEffects @ playerMovementService.ts:53
updatePlayerPosition @ worldStore.ts:117
(anonymous) @ usePlayerMovement.ts:116
(anonymous) @ usePlayerMovement.ts:148
playerMovementService.ts:48 🎲 BIOME EVENTS DEBUG - Movement triggered for biome: PLAINS
playerMovementService.ts:49 🎲 BIOME EVENTS DEBUG - Weather effects: {movementModifier: 1, survivalModifier: 1, skillCheckModifier: 0, eventProbabilityModifier: 1}
playerMovementService.ts:52 🎲 BIOME EVENTS DEBUG - Calling eventStore.checkForRandomEvent()
eventStore.ts:207  Uncaught TypeError: Cannot read properties of undefined (reading 'eventProbabilityModifier')
    at Object.checkForRandomEvent (eventStore.ts:207:66)
    at PlayerMovementService.handleMovementEffects (playerMovementService.ts:53:16)
    at updatePlayerPosition (worldStore.ts:117:27)
    at usePlayerMovement.ts:116:5
    at usePlayerMovement.ts:152:9
checkForRandomEvent @ eventStore.ts:207
handleMovementEffects @ playerMovementService.ts:53
updatePlayerPosition @ worldStore.ts:117
(anonymous) @ usePlayerMovement.ts:116
(anonymous) @ usePlayerMovement.ts:152
worldStore.ts:86 🌍 WORLDSTORE DEBUG - Biome changed: {oldBiome: 'PLAINS', newBiome: 'REST_STOP', position: {…}, char: 'R'}
worldStore.ts:96 🌍 WORLDSTORE DEBUG - Calling narrativeIntegration.checkForNarrativeEvents...
narrativeIntegration.ts:224 🎭 NARRATIVE DEBUG - checkForNarrativeEvents called: {eventType: 'biome_change', context: {…}, currentStage: 1, availableEvents: 4, currentBiome: 'REST_STOP', …}
narrativeIntegration.ts:236 🔍 Checking event lena_memory_forest: {questStageReq: Array(3), currentStage: 1, locationReq: Array(1), currentBiome: 'REST_STOP', emotionalPrereq: {…}}
narrativeIntegration.ts:254 🔍 Checking emotional prerequisites for lena_memory_forest: {required: {…}, current: {…}}
narrativeIntegration.ts:289 ❌ Event lena_memory_forest rejected: location requirement not met (needs forest, current: REST_STOP)
narrativeIntegration.ts:236 🔍 Checking event elian_legacy_city: {questStageReq: Array(3), currentStage: 1, locationReq: Array(1), currentBiome: 'REST_STOP', emotionalPrereq: {…}}
narrativeIntegration.ts:246 ❌ Event elian_legacy_city rejected: stage requirement not met
narrativeIntegration.ts:236 🔍 Checking event family_discovery_plains: {questStageReq: Array(3), currentStage: 1, locationReq: Array(1), currentBiome: 'REST_STOP', emotionalPrereq: {…}}
narrativeIntegration.ts:246 ❌ Event family_discovery_plains rejected: stage requirement not met
narrativeIntegration.ts:236 🔍 Checking event thematic_river_reflection: {questStageReq: Array(5), currentStage: 1, locationReq: Array(1), currentBiome: 'REST_STOP', emotionalPrereq: {…}}
narrativeIntegration.ts:254 🔍 Checking emotional prerequisites for thematic_river_reflection: {required: {…}, current: {…}}
narrativeIntegration.ts:261 ✅ Event thematic_river_reflection - DEBUG MODE: accepting river event regardless of emotional state
narrativeIntegration.ts:289 ❌ Event thematic_river_reflection rejected: location requirement not met (needs river, current: REST_STOP)
narrativeIntegration.ts:310 🎯 NARRATIVE DEBUG - Eligible events found: {count: 0, events: Array(0)}
narrativeIntegration.ts:325 ⚠️ NARRATIVE DEBUG - No eligible events found for trigger
worldStore.ts:101 🌍 WORLDSTORE DEBUG - narrativeIntegration.checkForNarrativeEvents called
playerMovementService.ts:48 🎲 BIOME EVENTS DEBUG - Movement triggered for biome: REST_STOP
playerMovementService.ts:49 🎲 BIOME EVENTS DEBUG - Weather effects: {movementModifier: 1, survivalModifier: 1, skillCheckModifier: 0, eventProbabilityModifier: 1}
playerMovementService.ts:52 🎲 BIOME EVENTS DEBUG - Calling eventStore.checkForRandomEvent()
eventStore.ts:207  Uncaught TypeError: Cannot read properties of undefined (reading 'eventProbabilityModifier')
    at Object.checkForRandomEvent (eventStore.ts:207:66)
    at PlayerMovementService.handleMovementEffects (playerMovementService.ts:53:16)
    at updatePlayerPosition (worldStore.ts:117:27)
    at usePlayerMovement.ts:116:5
    at usePlayerMovement.ts:148:9
checkForRandomEvent @ eventStore.ts:207
handleMovementEffects @ playerMovementService.ts:53
updatePlayerPosition @ worldStore.ts:117
(anonymous) @ usePlayerMovement.ts:116
(anonymous) @ usePlayerMovement.ts:148
worldStore.ts:86 🌍 WORLDSTORE DEBUG - Biome changed: {oldBiome: 'REST_STOP', newBiome: 'PLAINS', position: {…}, char: '.'}
worldStore.ts:96 🌍 WORLDSTORE DEBUG - Calling narrativeIntegration.checkForNarrativeEvents...
narrativeIntegration.ts:224 🎭 NARRATIVE DEBUG - checkForNarrativeEvents called: {eventType: 'biome_change', context: {…}, currentStage: 1, availableEvents: 4, currentBiome: 'PLAINS', …}
narrativeIntegration.ts:236 🔍 Checking event lena_memory_forest: {questStageReq: Array(3), currentStage: 1, locationReq: Array(1), currentBiome: 'PLAINS', emotionalPrereq: {…}}
narrativeIntegration.ts:254 🔍 Checking emotional prerequisites for lena_memory_forest: {required: {…}, current: {…}}
narrativeIntegration.ts:289 ❌ Event lena_memory_forest rejected: location requirement not met (needs forest, current: PLAINS)
narrativeIntegration.ts:236 🔍 Checking event elian_legacy_city: {questStageReq: Array(3), currentStage: 1, locationReq: Array(1), currentBiome: 'PLAINS', emotionalPrereq: {…}}
narrativeIntegration.ts:246 ❌ Event elian_legacy_city rejected: stage requirement not met
narrativeIntegration.ts:236 🔍 Checking event family_discovery_plains: {questStageReq: Array(3), currentStage: 1, locationReq: Array(1), currentBiome: 'PLAINS', emotionalPrereq: {…}}
narrativeIntegration.ts:246 ❌ Event family_discovery_plains rejected: stage requirement not met
narrativeIntegration.ts:236 🔍 Checking event thematic_river_reflection: {questStageReq: Array(5), currentStage: 1, locationReq: Array(1), currentBiome: 'PLAINS', emotionalPrereq: {…}}
narrativeIntegration.ts:254 🔍 Checking emotional prerequisites for thematic_river_reflection: {required: {…}, current: {…}}
narrativeIntegration.ts:261 ✅ Event thematic_river_reflection - DEBUG MODE: accepting river event regardless of emotional state
narrativeIntegration.ts:289 ❌ Event thematic_river_reflection rejected: location requirement not met (needs river, current: PLAINS)
narrativeIntegration.ts:310 🎯 NARRATIVE DEBUG - Eligible events found: {count: 0, events: Array(0)}
narrativeIntegration.ts:325 ⚠️ NARRATIVE DEBUG - No eligible events found for trigger
worldStore.ts:101 🌍 WORLDSTORE DEBUG - narrativeIntegration.checkForNarrativeEvents called
playerMovementService.ts:48 🎲 BIOME EVENTS DEBUG - Movement triggered for biome: PLAINS
playerMovementService.ts:49 🎲 BIOME EVENTS DEBUG - Weather effects: {movementModifier: 1, survivalModifier: 1, skillCheckModifier: 0, eventProbabilityModifier: 1}
playerMovementService.ts:52 🎲 BIOME EVENTS DEBUG - Calling eventStore.checkForRandomEvent()
eventStore.ts:207  Uncaught TypeError: Cannot read properties of undefined (reading 'eventProbabilityModifier')
    at Object.checkForRandomEvent (eventStore.ts:207:66)
    at PlayerMovementService.handleMovementEffects (playerMovementService.ts:53:16)
    at updatePlayerPosition (worldStore.ts:117:27)
    at usePlayerMovement.ts:116:5
    at usePlayerMovement.ts:148:9
checkForRandomEvent @ eventStore.ts:207
handleMovementEffects @ playerMovementService.ts:53
updatePlayerPosition @ worldStore.ts:117
(anonymous) @ usePlayerMovement.ts:116
(anonymous) @ usePlayerMovement.ts:148
