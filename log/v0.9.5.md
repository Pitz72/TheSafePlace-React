# Log di Sviluppo - Versione 0.9.5 "L'Usura del Tempo"

Questa versione introduce una meccanica di gioco fondamentale che approfondisce enormemente il ciclo di sopravvivenza: il **Sistema di Durabilità e Manutenzione dell'Equipaggiamento**. Questo aggiornamento trasforma l'equipaggiamento da un bene permanente a una risorsa finita che deve essere gestita, riparata e infine sostituita. La release include anche fix critici che stabilizzano il sistema di equipaggiamento a seguito di questa importante modifica architetturale.

### Dettagli dell'Implementazione

#### 1. Sistema di Durabilità del Nucleo
- **Nuovo Attributo per gli Oggetti:** Tutte le armi e le armature ora possiedono un attributo di `durability`. Questo valore diminuisce con l'uso in combattimento: le armi si degradano a ogni attacco sferrato e le armature ogni volta che il giocatore viene colpito.
- **Stato "Rotto":** Quando la durabilità di un oggetto raggiunge lo zero, esso si "rompe". Un oggetto rotto viene automaticamente tolto (se equipaggiato), non può essere utilizzato e viene contrassegnato come `[ROTTO]` nell'interfaccia utente.
- **Refactoring Architetturale:** Per supportare lo stato individuale di ogni oggetto, il sistema di equipaggiamento è stato riprogettato dalle fondamenta. Ora non fa più riferimento a un ID generico dell'oggetto, ma traccia lo **specifico indice dell'oggetto nell'inventario**. Questo cambiamento, complesso ma necessario, è la spina dorsale che permette a ogni pezzo di equipaggiamento di avere uno stato unico.

#### 2. Ciclo di Manutenzione e Crafting
- **Kit di Riparazione:** Sono stati introdotti due nuovi oggetti di tipo `tool`: il "Kit di Riparazione Base" e quello "Avanzato". Possono essere trovati nel mondo o creati tramite crafting.
- **Nuova Azione "Ripara":** Dal menu azioni dell'inventario, gli oggetti danneggiati ora hanno l'opzione "Ripara". Questa azione consuma un kit di riparazione per ripristinare una parte della durabilità dell'oggetto.
- **Nuova Azione "Recupera Materiali":** Gli oggetti rotti presentano l'opzione "Recupera Materiali". Questa azione distrugge l'oggetto ma restituisce materiali di crafting di base (es. `scrap_metal`), rendendo anche la rottura un'opportunità strategica.
- **Nuove Ricette:** Per completare il ciclo, sono state aggiunte le ricette per creare entrambi i tipi di kit di riparazione.

#### 3. Integrazione con l'Interfaccia Utente (UI)
- **Visualizzazione della Durabilità:** L'interfaccia è stata aggiornata in ogni sua parte per fornire un feedback chiaro sullo stato dell'equipaggiamento.
  - **Schermata di Gioco:** I pannelli rapidi "Inventario" ed "Equipaggiamento" ora mostrano la durabilità corrente/massima (es. `(45/70)`) o lo stato `[ROTTO]` accanto al nome dell'oggetto.
  - **Schermata Inventario:** Sia l'elenco principale che la vista dettagliata nell'inventario a schermo intero ora mostrano chiaramente le informazioni sulla durabilità, permettendo una gestione strategica.

#### 4. Bug Fix e Bilanciamento del Gameplay
- **Risolto Bug Critico dell'Equipaggiamento:** È stato risolto un bug fondamentale che impediva l'equipaggiamento degli oggetti iniziali e bloccava l'equipaggiamento manuale dall'inventario. La funzione `equipItem` è stata resa più robusta per gestire sia gli ID degli oggetti (per lo scripting) sia gli indici dell'inventario (per l'interazione UI), e la logica del menu dell'inventario è stata corretta.
- **Accessibilità al Crafting Iniziale:** Per introdurre immediatamente il giocatore al nuovo sistema, l'inventario di partenza ora include i materiali necessari per creare un "Coltello di Fortuna", e la ricetta per il "Kit di Riparazione Base" è conosciuta fin dall'inizio della partita.

### Conclusione
La versione 0.9.5 introduce un livello di profondità strategica che è centrale per il tema della sopravvivenza. La gestione dell'equipaggiamento è ora cruciale quanto la gestione della fame e della sete. Il ciclo di **utilizzo -> degrado -> riparazione/recupero -> creazione** è pienamente implementato, rendendo ogni pezzo di equipaggiamento più prezioso e ogni scontro in combattimento più carico di conseguenze.