# Log di Sviluppo - Versione 0.7.1

Questa versione è dedicata a un singolo ma cruciale intervento di **bug fixing** che stabilizza il nuovo sistema di combattimento, rendendolo pienamente funzionale e giocabile come previsto.

### Dettagli dell'Implementazione

#### 1. Correzione del Bug di "Input Leak" in Combattimento

- **Identificazione del Problema:** È stato identificato un bug critico dove i comandi da tastiera inviati durante la schermata di combattimento (`CombatScreen`) venivano "ascoltati" anche dalla schermata di gioco sottostante (`GameScreen`).
- **Impatto del Bug:** Questo causava un comportamento disastroso: mentre il giocatore tentava di navigare nel menu delle azioni di combattimento (es. premendo 'd' o la freccia destra), il personaggio si muoveva sulla mappa di gioco. Questo movimento poteva portare all'attivazione di un evento casuale, che a sua volta interrompeva e annullava bruscamente il combattimento in corso, rompendo completamente l'esperienza.
- **Soluzione Implementata:** È stata applicata una modifica mirata al componente `GameScreen.tsx`. Il gestore di input (`useKeyboardInput`) è stato reso condizionale: ora si attiva **solo ed esclusivamente** se lo stato di gioco è `GameState.IN_GAME`. In qualsiasi altro stato (`COMBAT`, `EVENT_SCREEN`, `INVENTORY`, ecc.), il gestore di input della `GameScreen` è disattivato.
- **Risultato:** Ora, solo il componente attivo in primo piano può ricevere e interpretare i comandi da tastiera. L'input del giocatore è correttamente isolato nella schermata di combattimento, che ora funziona in modo stabile e senza interruzioni impreviste.

### Conclusione

Con la versione 0.7.1, il sistema di combattimento introdotto nella v0.7.0 è stato reso robusto e affidabile. La risoluzione di questo bug critico era fondamentale per garantire l'integrità del ciclo di gioco e permette ora di procedere con il bilanciamento e l'espansione dei contenuti di combattimento su una base solida.