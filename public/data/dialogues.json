[
  {
    "id": "marcus_main",
    "npcName": "Marcus",
    "startNodeId": "start",
    "nodes": {
      "start": {
        "id": "start",
        "npcText": "Un altro volto nuovo. Non se ne vedono molti da queste parti. Ti guardi intorno come se avessi visto un fantasma. Posso aiutarti, viaggiatore?",
        "options": [
          {
            "text": "Chi sei?",
            "consequence": {
              "type": "jumpToNode",
              "value": "who_are_you"
            }
          },
          {
            "text": "Cos'è questo posto?",
            "consequence": {
              "type": "jumpToNode",
              "value": "what_is_this_place"
            }
          },
          {
            "text": "[Persuasione] Parlami dei pericoli della zona.",
            "consequence": {
              "type": "skillCheck",
              "value": {
                "skill": "persuasione",
                "dc": 12,
                "successNode": "dangers_success",
                "failureNode": "dangers_failure"
              }
            }
          },
          {
            "text": "[QUEST] Ho visto un avviso su un orologio rubato...",
            "consequence": {
              "type": "jumpToNode",
              "value": "marcus_investigation_start"
            },
            "showCondition": {
              "questActive": "crossroads_investigation"
            }
          },
          {
            "text": "[QUEST] Ho recuperato il tuo orologio.",
            "consequence": {
              "type": "jumpToNode",
              "value": "marcus_investigation_complete"
            },
            "showCondition": {
              "questActive": "crossroads_investigation",
              "hasItem": "old_watch"
            }
          },
          {
            "text": "[QUEST] Conosci questo simbolo?",
            "consequence": {
              "type": "jumpToNode",
              "value": "marcus_talisman_knowledge"
            },
            "showCondition": {
              "questActive": "find_jonas_talisman",
              "hasItem": "jonas_talisman"
            }
          },
          {
            "text": "[QUEST] Ho un pacco per questo avamposto.",
            "consequence": {
              "type": "jumpToNode",
              "value": "quest_delivery"
            },
            "showCondition": {
              "questActive": "deliver_last_message",
              "hasItem": "sealed_package_quest"
            }
          },
          {
            "text": "Non ho tempo per chiacchierare. Addio.",
            "consequence": {
              "type": "endDialogue"
            }
          }
        ]
      },
      "who_are_you": {
        "id": "who_are_you",
        "npcText": "Il mio nome è Marcus. Diciamo che sono il... custode non ufficiale di questo posto. Vendo, compro, scambio. Cerco di tenere insieme i pezzi, come tutti.",
        "options": [
          {
            "text": "Interessante. Ho altre domande.",
            "consequence": {
              "type": "jumpToNode",
              "value": "start"
            }
          },
          {
            "text": "Grazie. Devo andare.",
            "consequence": {
              "type": "endDialogue"
            }
          }
        ]
      },
      "what_is_this_place": {
        "id": "what_is_this_place",
        "npcText": "Lo chiamiamo 'Il Crocevia'. È solo un mucchio di rottami, ma è il più vicino a una casa che molti di noi abbiano da anni. Se non crei problemi, sei il benvenuto.",
        "options": [
          {
            "text": "Capisco. Grazie.",
            "consequence": {
              "type": "jumpToNode",
              "value": "start"
            }
          },
          {
            "text": "Sembra un buon posto. Addio.",
            "consequence": {
              "type": "endDialogue"
            }
          }
        ]
      },
      "dangers_success": {
        "id": "dangers_success",
        "npcText": "Hai un modo di fare convincente. Va bene, ascolta. A nord-ovest, tra le montagne... c'è un posto che chiamiamo 'Il Nido'. Non andarci. Chi ci va, non torna. È un luogo di cenere e silenzio. Capito?",
        "options": [
          {
            "text": "Grazie dell'avvertimento. Starò attento.",
            "consequence": {
              "type": "addXp",
              "value": 25
            }
          },
          {
            "text": "Ho altre domande.",
            "consequence": {
              "type": "jumpToNode",
              "value": "start"
            }
          }
        ]
      },
      "dangers_failure": {
        "id": "dangers_failure",
        "npcText": "I pericoli? I pericoli sono ovunque, amico. Tieni gli occhi aperti, è l'unico consiglio che do gratis.",
        "options": [
          {
            "text": "Va bene, come non detto.",
            "consequence": {
              "type": "jumpToNode",
              "value": "start"
            }
          },
          {
            "text": "Capito. Addio.",
            "consequence": {
              "type": "endDialogue"
            }
          }
        ]
      },
      "marcus_investigation_start": {
        "id": "marcus_investigation_start",
        "npcText": "Ah, hai visto l'avviso! Sì, quell'orologio... apparteneva a mio padre. Un predone l'ha rubato settimane fa. L'ho visto dirigersi verso nord, nelle foreste. È un tipo pericoloso, armato e diffidente. Fai attenzione.",
        "options": [
          {
            "text": "Lo troverò e recupererò l'orologio.",
            "consequence": {
              "type": "jumpToNode",
              "value": "start"
            }
          }
        ]
      },
      "marcus_investigation_complete": {
        "id": "marcus_investigation_complete",
        "npcText": "L'hai recuperato! Non posso crederci... Questo orologio è tutto ciò che mi resta di mio padre. Grazie, davvero. Scegli un'arma dal mio deposito come ricompensa. E d'ora in poi, avrai sempre uno sconto nei miei scambi.",
        "options": [
          {
            "text": "Scelgo il Pugnale Affilato.",
            "consequence": {
              "type": "giveItem",
              "value": { "itemId": "weapon_sharp_dagger", "quantity": 1 }
            }
          },
          {
            "text": "Scelgo l'Arco Improvvisato.",
            "consequence": {
              "type": "giveItem",
              "value": { "itemId": "weapon_makeshift_bow", "quantity": 1 }
            }
          }
        ]
      },
      "marcus_talisman_knowledge": {
        "id": "marcus_talisman_knowledge",
        "npcText": "Questo simbolo... è il marchio del Clan del Corvo! Jonas era il loro fondatore, un grande esploratore. Questo talismano era il loro simbolo di appartenenza. Che tu l'abbia trovato significa molto. Lascia che ti insegni una vecchia tecnica di sopravvivenza del clan.",
        "options": [
          {
            "text": "Grazie per le informazioni.",
            "consequence": {
              "type": "addXp",
              "value": 100
            }
          }
        ]
      },
      "quest_delivery": {
        "id": "quest_delivery",
        "npcText": "Un pacco? Fammi vedere... Oh. Questo sigillo... è del Vecchio Jonas. Pensavamo fosse disperso da mesi. Grazie per aver onorato il suo ultimo viaggio. Non abbiamo molto, ma prendi questa. Una buona bussola è più preziosa dell'oro, da queste parti.",
        "options": [
          {
            "text": "È stato un dovere.",
            "consequence": {
              "type": "completeQuest",
              "value": "deliver_last_message"
            }
          }
        ]
      }
    }
  },
  {
    "id": "giona_main",
    "npcName": "Giona",
    "startNodeId": "start",
    "nodes": {
      "start": {
        "id": "start",
        "npcText": "Ah, finalmente qualcuno mi raggiunge. La strada è lunga e solitaria, sai? Cosa posso fare per te, viaggiatore?",
        "options": [
          {
            "text": "Raccontami dei tuoi viaggi.",
            "consequence": {
              "type": "jumpToNode",
              "value": "travels"
            }
          },
          {
            "text": "Hai visto qualcosa di strano ultimamente?",
            "consequence": {
              "type": "jumpToNode",
              "value": "strange_things"
            }
          },
          {
            "text": "Conosci la strada per il Safe Place?",
            "consequence": {
              "type": "jumpToNode",
              "value": "safe_place"
            }
          },
          {
            "text": "Grazie, devo andare.",
            "consequence": {
              "type": "endDialogue"
            }
          }
        ]
      },
      "travels": {
        "id": "travels",
        "npcText": "Ho visto molte cose nei miei viaggi. Città morte, foreste che sussurrano, fiumi che scorrono rossi. Ma ho anche visto sopravvissuti che si aiutano, piccoli atti di gentilezza in un mondo crudele. Questo mi dà speranza.",
        "options": [
          {
            "text": "È confortante saperlo.",
            "consequence": {
              "type": "jumpToNode",
              "value": "start"
            }
          },
          {
            "text": "Grazie per le tue parole. Addio.",
            "consequence": {
              "type": "endDialogue"
            }
          }
        ]
      },
      "strange_things": {
        "id": "strange_things",
        "npcText": "Strano? Tutto è strano in questi giorni. Ma sì... ho visto creature che non dovrebbero esistere. Ombre che si muovono contro il vento. E a volte, di notte, sento voci che cantano ninna nanne. Mi fa venire i brividi.",
        "options": [
          {
            "text": "Inquietante. Ho altre domande.",
            "consequence": {
              "type": "jumpToNode",
              "value": "start"
            }
          },
          {
            "text": "Capisco. Devo andare.",
            "consequence": {
              "type": "endDialogue"
            }
          }
        ]
      },
      "safe_place": {
        "id": "safe_place",
        "npcText": "Il Safe Place... sì, ne ho sentito parlare. Dicono sia a est, molto a est. Oltre le montagne, oltre le città morte. Un luogo dove la contaminazione non arriva. Ma il viaggio è lungo, ragazzo. Molto lungo. Porta con te tutto ciò che puoi.",
        "options": [
          {
            "text": "Grazie per l'informazione.",
            "consequence": {
              "type": "addXp",
              "value": 30
            }
          },
          {
            "text": "Ho altre domande.",
            "consequence": {
              "type": "jumpToNode",
              "value": "start"
            }
          }
        ]
      }
    }
  }
]